---
const {
  as: Tag = 'div',
  class: className = '',
  ...rest
} = Astro.props;
---

<Tag class:list={['prose', className]} {...rest}>
  <slot />
</Tag>

<style>
  .prose {
    max-width: var(--width-content);
    color: var(--color-text-secondary);
  }

  .prose :global(h1),
  .prose :global(h2),
  .prose :global(h3),
  .prose :global(h4) {
    margin-top: 0;
    margin-bottom: var(--space-4);
    color: var(--color-text-primary);
  }

  .prose :global(h2),
  .prose :global(h3),
  .prose :global(h4) {
    margin-top: var(--space-6);
  }

  .prose :global(p),
  .prose :global(ul),
  .prose :global(ol),
  .prose :global(blockquote),
  .prose :global(pre) {
    margin-bottom: var(--space-4);
  }

  .prose :global(p:last-child),
  .prose :global(ul:last-child),
  .prose :global(ol:last-child),
  .prose :global(blockquote:last-child),
  .prose :global(pre:last-child) {
    margin-bottom: 0;
  }

  .prose :global(p),
  .prose :global(li) {
    line-height: var(--line-relaxed);
  }

  .prose :global(ul),
  .prose :global(ol) {
    padding-left: 1.25rem;
  }

  .prose :global(li + li) {
    margin-top: var(--space-2);
  }

  .prose :global(a) {
    color: var(--color-text-primary);
    text-decoration-color: rgba(215, 163, 182, 0.65);
    text-underline-offset: 0.2em;
    transition: color var(--transition-soft), text-decoration-color var(--transition-soft);
  }

  .prose :global(a:hover),
  .prose :global(a:focus-visible) {
    text-decoration-color: rgba(201, 184, 230, 0.8);
  }

  .prose :global(blockquote) {
    padding-left: var(--space-4);
    border-left: 2px solid rgba(215, 163, 182, 0.45);
    color: var(--color-text-muted);
    font-style: italic;
  }

  .prose :global(code) {
    padding: 0.14rem 0.35rem;
    border-radius: var(--radius-sm);
    background: rgba(243, 238, 248, 0.85);
    font-size: 0.9em;
  }

  .prose :global(pre) {
    overflow-x: auto;
    padding: var(--space-4);
    border: var(--border-thin);
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.76);
  }

  .prose :global(pre code) {
    padding: 0;
    background: transparent;
  }
</style>
