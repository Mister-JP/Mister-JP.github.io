---
const {
  href,
  variant = 'default',
  interactive = Boolean(Astro.props.href),
  class: className = '',
  ...rest
} = Astro.props;

const Tag = href ? 'a' : 'article';
const hasTitle = Astro.slots.has('title');
const hasActions = Astro.slots.has('actions');
---

<Tag
  class:list={[
    'card',
    `card--${variant}`,
    interactive && 'card--interactive',
    className,
  ]}
  href={href}
  {...rest}
>
  {hasTitle && (
    <div class="card__head">
      <slot name="title" />
    </div>
  )}
  <div class="card__body">
    <slot />
  </div>
  {hasActions && (
    <div class="card__actions">
      <slot name="actions" />
    </div>
  )}
</Tag>

<style>
  .card {
    display: grid;
    gap: var(--space-4);
    height: 100%;
    padding: var(--card-padding);
    border: var(--border-thin);
    border-radius: var(--radius-lg);
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(255, 249, 251, 0.94));
    box-shadow: var(--shadow-soft);
    color: inherit;
    text-decoration: none;
    transition:
      transform var(--transition-soft),
      box-shadow var(--transition-base),
      border-color var(--transition-soft),
      background-color var(--transition-soft);
  }

  .card--soft {
    background:
      linear-gradient(180deg, rgba(249, 238, 244, 0.92), rgba(255, 249, 251, 0.96));
  }

  .card--interactive:hover,
  .card--interactive:focus-visible {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lift);
    border-color: var(--color-border-strong);
  }

  .card__head {
    display: grid;
    gap: var(--space-2);
  }

  .card__body {
    display: grid;
    gap: var(--space-3);
    align-content: start;
    color: var(--color-text-secondary);
  }

  .card__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    margin-top: auto;
  }
</style>
